

<!DOCTYPE html>
<html lang="en">

<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-154419941-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-154419941-1');
</script>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap core CSS -->
    <!-- <link rel="icon" type="image/png" href="images/sphere_tracing.png"> -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <!-- Custom styles for this template -->
    <link href="css/distRenderer.css" rel="stylesheet">
    <base target="_blank">
</head>

<title>SelfUnroll</title>
<style>
    
    th {
        text-align: center;
        word-wrap: break-word;
        }
    #label5 {
	color: red;
	font-weight: bold;
  }

    .row-label {
      position: absolute;
      top: -20px;
      left: 50%; /* 把标签元素居中对齐 */
      transform: translateX(-50%); /* 把标签元素水平居中对齐 */
    }

    .col-label {
      position: absolute;
      left: -60px;
      top: 50%; /* 把标签元素居中对齐 */
      transform: translateY(-50%) rotate(-90deg); /* 把标签元素垂直居中对齐并旋转-90度 */
    }
  </style>
<body>
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <a class="navbar-brand" href="#">SelfUnroll</a>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggle">
              <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarToggle">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#", target="_self">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#Abstract", target="_self">Abstract</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#Download", target="_self">Download</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#Video", target="_self">Video</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#Results", target="_self">Results</a>
                </li_self>
                <!-- <li class="nav-item">
                    <a class="nav-link" href="#dreResults", target="_self">dreResults</a>
                </li_self> -->
            </ul>
        </div>
    </nav>

    <div class="container" style="padding-top: 80px; font-size: 20px">
        <div align="center">
<!--
            <div style="padding-top:2px; padding-bottom:5px">
            <td width=120px><center><img width=80% src="./images/logo/all_logos.png"></center></td>
            </div>
-->
            <h1 class="text-center" align="center">
                Self-Supervised Scene Dynamic Recovery from <br> Rolling Shutter Images and Events
            </h1>
            <!--<a href="http://cvpr2020.thecvf.com/" style="font-size:30pt; color:black">CVPR 2020</a><br>-->


            <p style="font-size: 20px; font-family: Times New Roman">
                Yangguang Wang &nbsp;&nbsp;&nbsp;&nbsp; 
                Xiang Zhang &nbsp;&nbsp;&nbsp;&nbsp; 
                Mingyuan Lin &nbsp;&nbsp;&nbsp;&nbsp; 
                Lei Yu &nbsp;&nbsp;&nbsp;&nbsp; 
                Boxin Shi &nbsp;&nbsp;&nbsp;&nbsp; 
                Wen Yang &nbsp;&nbsp;&nbsp;&nbsp; 
                Gui-Song Xia &nbsp;&nbsp;&nbsp;&nbsp; 
            </p>
            <!--<a href="http://b1ueber2y.me/">Shaohui Liu</a><sup>1,3</sup> &nbsp;&nbsp;&nbsp;&nbsp;
            <a href="http://www.zhangyinda.com/">Yinda Zhang</a><sup>2</sup> &nbsp;&nbsp;&nbsp;&nbsp;
            <a href="https://pengsongyou.github.io/">Songyou Peng</a><sup>1</sup> &nbsp;&nbsp;&nbsp;&nbsp;
            <a href="http://alumni.media.mit.edu/~shiboxin/">Boxin Shi</a><sup>4</sup> &nbsp;&nbsp;&nbsp;&nbsp;
            <a href="https://people.inf.ethz.ch/pomarc/">Marc Pollefeys</a><sup>1,5</sup> &nbsp;&nbsp;&nbsp;&nbsp;
            <a href="https://zhpcui.github.io/">Zhaopeng Cui</a><sup>1</sup>-->
            <br>

            <!--<sup>1</sup><a href="https://www.ethz.ch/en.html" style="color:black">ETH Zurich</a> &nbsp; &nbsp; &nbsp; &nbsp;
            <sup>2</sup><a href="http://www.ai.google/" style="color:black">Google</a> &nbsp; &nbsp; &nbsp; &nbsp;
            <sup>3</sup><a href="https://www.tsinghua.edu.cn/publish/thu2018/index.html" style="color:black">Tsinghua University</a> &nbsp; &nbsp; &nbsp; &nbsp;
            <sup>4</sup><a href="http://english.pku.edu.cn/" style="color:black">Peking University</a> &nbsp; &nbsp; &nbsp; &nbsp;
            <sup>5</sup><a href="http://www.microsoft.com/" style="color:black">Microsoft</a>-->
        </div> 
    </div>

    <!-- Teaser -->
    <div class="container" style="padding-top: 25px; font-size: 20px">
        <div align="center">
        <div class="center">
            <img class="img-responsive img-rounded" src="images/first.png" style="width:60%" alt="">
        </div>
        </div>
    </div><br><br><br>

    <!-- Abstract -->
    <div class="container">
    <hr>
    <center>
        <h2 id="Abstract" style="padding-top: 80px; margin-top: -80px;">Abstract</h2>
    </center>
    <p  style="font-size: 20px; font-family: Times New Roman; text-align: justify">
        Scene Dynamic Recovery (SDR) by inverting distorted Rolling Shutter (RS) images to an undistorted high frame-rate Global Shutter (GS) video is a severely ill-posed problem, particularly when prior knowledge about camera/object motions is unavailable. Commonly used artificial assumptions on motion linearity and data-specific characteristics, regarding the temporal dynamics information embedded in the RS scanlines, are prone to producing sub-optimal solutions in real-world scenarios. To address this challenge, we propose an event-based RS2GS framework within a self-supervised learning paradigm that leverages the extremely high temporal resolution of event cameras to provide accurate inter/intra-frame information. Specifically, an Event-based Inter/intra-frame Compensator (E-IC) is proposed to predict the per-pixel dynamic between arbitrary time intervals, including the temporal transition and spatial translation. Exploring connections in terms of RS-RS, RS-GS, and GS-RS, we explicitly formulate mutual constraints with the proposed E-IC, resulting in supervisions without ground-truth GS images. Extensive evaluations over synthetic and real datasets demonstrate that the proposed method achieves state-of-the-art and shows remarkable performance for event-based RS2GS inversion in real-world scenarios.
    </p>
    </div><br>

    <!-- Download -->
    <div class='download'>
    <hr>
    <center>
        <h2 id="Download" style="padding-top: 80px; margin-top: -80px">Download</h2>
    </center>
    <div class='container' style="width: 60%">
    <ul>
    <li style='font-size: 20px'><a href='./selfunroll.pdf'>Paper (PDF)</a></li>
    <li style='font-size: 20px'><a href="https://github.com/w3un/SelfUnroll">Code and Dataset</a></li>
    </ul>
    </div>
    </div><br>
    <!-- Video -->
    
    <div class='Video' >
      <hr>
      <center>
        <h2 id="Video" style="padding-top: 80px; margin-top: -80px">Video</h2>
      </center>
    <center>
      <video controls align=center style="width: 1280px; height: 720px;; margin: 0 auto;">
        <source src="./images/VIDEO.mp4" type="video/mp4">
        <!-- Your browser does not support the video tag. -->
      </video>
    </center>
    <hr>
    </div>
  </div><br>
    
    
    <!-- <head>
        <title>Images in the Same Column</title>
    </head>
    <body>
        <table align=center width=1200px style="font-size: 20px">
            <tr>
                <td width=1200px><center><img width=100% src="./images/gev/gif1.gif"></center></td>
            </tr>
            <tr>
                <td width=1200px><center><img width=100% src="./images/gev/gif2.gif"></center></td>
            </tr>
            <tr>
                <td width=1200px><center><img width=100% src="./images/gev/gif3.gif"></center></td>
            </tr>
            <tr>
                <td width=1200px><center><img width=100% src="./images/gev/gif4.gif"></center></td>
            </tr>
            <tr>
                <td width=1200px><center><img width=100% src="./images/gev/gif5.gif"></center></td>
            </tr>
        </table>
    </body> -->



    <!-- gev Results -->
    <div class='Results'>
    <hr>
    <center>
        <h2 id="Results" style="padding-top: 80px; margin-top: -80px">More Results on Gev-RS-real dataset</h2>
    </center>
    <table align=center width=1200px style="font-size: 20px">
        <tr>
            <th id="label1">Event Frame</th>
            <th id="label2">RS Image</th>
            <th id="label3">CVR</th>
            <th id="label4">EvUnroll</th>
            <th id="label5">Ours</th>
          </tr>
        <tr>
            <tr>
                <td><canvas id="3canvas0" class="gev"  width="1280" height="720" style="width: 230px; "></canvas></td>
                <td><canvas id="3canvas1" class="gev"  width="1280" height="720" style="width: 230px; "></canvas></td>
                <td><canvas id="3canvas2" class="gev"  width="1280" height="720" style="width: 230px; "></canvas></td>
                <td><canvas id="3canvas3" class="gev"  width="1280" height="720" style="width: 230px; "></canvas></td>
                <td><canvas id="3canvas4" class="gev"  width="1280" height="720" style="width: 230px;"></canvas></td>
              </tr>
              <tr>
                <td><canvas id="4canvas0" class="gev"  width="1280" height="720" style="width: 230px; "></canvas></td>
                <td><canvas id="4canvas1" class="gev"  width="1280" height="720" style="width: 230px; "></canvas></td>
                <td><canvas id="4canvas2" class="gev"  width="1280" height="720" style="width: 230px; "></canvas></td>
                <td><canvas id="4canvas3" class="gev"  width="1280" height="720" style="width: 230px; "></canvas></td>
                <td><canvas id="4canvas4" class="gev"  width="1280" height="720" style="width: 230px;"></canvas></td>
              </tr>
            <td><canvas id="0canvas0" class="gev"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="0canvas1" class="gev"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="0canvas2" class="gev"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="0canvas3" class="gev"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="0canvas4" class="gev"  width="346" height="260" style="width: 230px;"></canvas></td>
          </tr>
          <tr>
            <td><canvas id="1canvas0" class="gev"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="1canvas1" class="gev"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="1canvas2" class="gev"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="1canvas3" class="gev"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="1canvas4" class="gev"  width="346" height="260" style="width: 230px;"></canvas></td>
          </tr>
          <tr>
            <td><canvas id="2canvas0" class="gev"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="2canvas1" class="gev"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="2canvas2" class="gev"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="2canvas3" class="gev"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="2canvas4" class="gev"  width="346" height="260" style="width: 230px;"></canvas></td>
          </tr>
          
    </table>
    
    <script>
        
        // 获取所有画布元素
        const canvases = document.querySelectorAll('.gev');
        // 定义要加载的图片路径数组
        const imagePaths = [[
          './images/gev/4/event_1.png',
          './images/gev/4/RS_1.png',
          './images/gev/4/cvr_1.png',
          './images/gev/4/evunroll_1.png',
          './images/gev/4/our_1.png',
        ],[
          './images/gev/5/event.png',
          './images/gev/5/rs.png',
          './images/gev/5/cvr.png',
          './images/gev/5/evunroll.png',
          './images/gev/5/our.png',
        ],[
          './images/gev/1/04_001435_032300_00022-event_00.png',
          './images/gev/1/rs.png',
          './images/gev/1/cvr.png',
          './images/gev/1/evunroll.png',
          './images/gev/1/res.png',
        ],
        [
          './images/gev/2/05_001435_032300_00038-event_00.png',
          './images/gev/2/rs.png',
          './images/gev/2/cvr.png',
          './images/gev/2/evunroll.png',
          './images/gev/2/res.png',
        ],[
          './images/gev/3/02_004548_032300_00241-event_00.png',
          './images/gev/3/rs.png',
          './images/gev/3/cvr.png',
          './images/gev/3/evunroll.png',
          './images/gev/3/res.png',
        ]];
        // 遍历每个画布元素
        canvases.forEach((canvas, index) => {
          // 获取画布和绘图上下文
		// var canvas = document.getElementById("canvas");
		// 设置竖向分割线的样式
        var ctx = canvas.getContext("2d");
        // ctx.setLineDash([5, 3]);
		ctx.strokeStyle = 'green';  // 设置线条颜色为红色
		ctx.lineWidth = canvas.width/100;        // 设置线条粗细为 2 像素
		// ctx.globalAlpha = 1.0;    // 设置透明度为 50%
		// 创建Image对象并加载图片
		var image1 = new Image();
		var image2 = new Image();
		image1.src = imagePaths[Math.floor(index/5)][1];
		image2.src = imagePaths[Math.floor(index/5)][index%5];
        // 在Canvas上绘制初始的图像
        image2.onload = function() {
            ctx.drawImage(image2, 0, 0, canvas.width, canvas.height);
        };
		// 监听鼠标在画布上的移动事件
		canvas.addEventListener("mousemove",  e => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
			
			// 获取鼠标在画布上的位置
			var rect = canvas.getBoundingClientRect();
            var x = event.clientX - rect.left;
            var y = event.clientY - rect.top;
            x = x * canvas.width / rect.width;
            y = y * canvas.height / rect.height;
            // var rect = canvas.getBoundingClientRect();
            // x -= rect.left;
            // y -= rect.top;
			// // 判断当前鼠标位置应该显示哪张图片的哪一部分
			ctx.drawImage(image1, 0, 0, canvas.width, y, 0, 0, canvas.width, y);
			ctx.drawImage(image2, 0, y, canvas.width, canvas.height, 0, y, canvas.width, canvas.height);
            // 画竖向分割线
            ctx.beginPath();
			ctx.moveTo(0, y);
			ctx.lineTo(canvas.width, y);
			ctx.stroke();
		});
        canvas.addEventListener('mouseout', e => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(image2, 0, 0, canvas.width, canvas.height);
        });
        
        });
      </script>

   


    <hr>

    <hr>
    <center>
        <h2 id="dreResults" style="padding-top: 80px; margin-top: -80px">More Results on DRE dataset</h2>
    </center>
    <table align=center width=1200px style="font-size: 20px">
        <tr>
            <th id="label1">Event Frame</th>
            <th id="label2">RS Image</th>
            <th id="label3">CVR</th>
            <th id="label4">EvUnroll</th>
            <th id="label5">Ours</th>
          </tr>
        <tr>
            <tr>
                <td><canvas id="3canvas0" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
                <td><canvas id="3canvas1" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
                <td><canvas id="3canvas2" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
                <td><canvas id="3canvas3" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
                <td><canvas id="3canvas4" class="dre"  width="346" height="260" style="width: 230px;"></canvas></td>
              </tr>
              <tr>
                <td><canvas id="4canvas0" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
                <td><canvas id="4canvas1" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
                <td><canvas id="4canvas2" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
                <td><canvas id="4canvas3" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
                <td><canvas id="4canvas4" class="dre"  width="346" height="260" style="width: 230px;"></canvas></td>
              </tr>
            <td><canvas id="0canvas0" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="0canvas1" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="0canvas2" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="0canvas3" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="0canvas4" class="dre"  width="346" height="260" style="width: 230px;"></canvas></td>
          </tr>
          <tr>
            <td><canvas id="1canvas0" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="1canvas1" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="1canvas2" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="1canvas3" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="1canvas4" class="dre"  width="346" height="260" style="width: 230px;"></canvas></td>
          </tr>
          <tr>
            <td><canvas id="2canvas0" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="2canvas1" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="2canvas2" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="2canvas3" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="2canvas4" class="dre"  width="346" height="260" style="width: 230px;"></canvas></td>
          </tr>
          
    </table>
    
    <script>
        
        // 获取所有画布元素
        const canvasesdre = document.querySelectorAll('.dre');
        // 定义要加载的图片路径数组
        const dreimagePaths = [[
          './images/dre/4/event_5.png',
          './images/dre/4/rs_.png',
          './images/dre/4/cvr_.png',
          './images/dre/4/evunroll_.png',
          './images/dre/4/res_.png',
        ],[
          './images/dre/5/event_6.png',
          './images/dre/5/rs_.png',
          './images/dre/5/cvr_.png',
          './images/dre/5/evunroll_.png',
          './images/dre/5/res_.png',
        ],[
          './images/dre/1/event.png',
          './images/dre/1/rs.png',
          './images/dre/1/cvr.png',
          './images/dre/1/evunroll.png',
          './images/dre/1/our.png',
        ],
        [
          './images/dre/2/rs-2023_03_10_15_57_19_000068-event_00.png',
          './images/dre/2/rs_.png',
          './images/dre/2/cvr_.png',
          './images/dre/2/evunroll_.png',
          './images/dre/2/res_.png',
        ],[
          './images/dre/3/event_4.png',
          './images/dre/3/rs.png',
          './images/dre/3/cvr.png',
          './images/dre/3/evunroll.png',
          './images/dre/3/res.png',
        ]];
        // 遍历每个画布元素
        canvasesdre.forEach((canvas, index) => {
          // 获取画布和绘图上下文
		// var canvas = document.getElementById("canvas");
		// 设置竖向分割线的样式
        var ctx = canvas.getContext("2d");
        // ctx.setLineDash([5, 3]);
		ctx.strokeStyle = 'green';  // 设置线条颜色为红色
		ctx.lineWidth = canvas.width/100;        // 设置线条粗细为 2 像素
		// ctx.globalAlpha = 1.0;    // 设置透明度为 50%
		// 创建Image对象并加载图片
		var image1 = new Image();
		var image2 = new Image();
		image1.src = dreimagePaths[Math.floor(index/5)][1];
		image2.src = dreimagePaths[Math.floor(index/5)][index%5];
        // 在Canvas上绘制初始的图像
        image2.onload = function() {
            ctx.drawImage(image2, 0, 0, canvas.width, canvas.height);
        };
		// 监听鼠标在画布上的移动事件
		canvas.addEventListener("mousemove",  e => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
			
			// 获取鼠标在画布上的位置
			var rect = canvas.getBoundingClientRect();
            var x = event.clientX - rect.left;
            var y = event.clientY - rect.top;
            x = x * canvas.width / rect.width;
            y = y * canvas.height / rect.height;
            // var rect = canvas.getBoundingClientRect();
            // x -= rect.left;
            // y -= rect.top;
			// // 判断当前鼠标位置应该显示哪张图片的哪一部分
			ctx.drawImage(image1, 0, 0, canvas.width, y, 0, 0, canvas.width, y);
			ctx.drawImage(image2, 0, y, canvas.width, canvas.height, 0, y, canvas.width, canvas.height);
            // 画竖向分割线
            ctx.beginPath();
			ctx.moveTo(0, y);
			ctx.lineTo(canvas.width, y);
			ctx.stroke();
		});
        canvas.addEventListener('mouseout', e => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(image2, 0, 0, canvas.width, canvas.height);
        });
        
        });
      </script>

   


    <hr>
    </div><br>
    <!-- dre Results -->
    <!-- <div class='dreResults'>
    <hr>
    <center>
        <h2 id="dreResults" style="padding-top: 80px; margin-top: -80px">More Results on DRE dataset</h2>
    </center>
    <table align=center width=1200px style="font-size: 20px">
        <tr>
            <th id="label1">Event Frame</th>
            <th id="label2">RS Image</th>
            <th id="label3">CVR</th>
            <th id="label4">EvUnroll</th>
            <th id="label5">Ours</th>
          </tr>
        <tr>
            <tr>
                <td><canvas id="3canvas0" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
                <td><canvas id="3canvas1" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
                <td><canvas id="3canvas2" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
                <td><canvas id="3canvas3" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
                <td><canvas id="3canvas4" class="dre"  width="346" height="260" style="width: 230px;"></canvas></td>
              </tr>
              <tr>
                <td><canvas id="4canvas0" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
                <td><canvas id="4canvas1" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
                <td><canvas id="4canvas2" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
                <td><canvas id="4canvas3" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
                <td><canvas id="4canvas4" class="dre"  width="346" height="260" style="width: 230px;"></canvas></td>
              </tr>
            <td><canvas id="0canvas0" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="0canvas1" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="0canvas2" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="0canvas3" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="0canvas4" class="dre"  width="346" height="260" style="width: 230px;"></canvas></td>
          </tr>
          <tr>
            <td><canvas id="1canvas0" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="1canvas1" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="1canvas2" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="1canvas3" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="1canvas4" class="dre"  width="346" height="260" style="width: 230px;"></canvas></td>
          </tr>
          <tr>
            <td><canvas id="2canvas0" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="2canvas1" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="2canvas2" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="2canvas3" class="dre"  width="346" height="260" style="width: 230px; "></canvas></td>
            <td><canvas id="2canvas4" class="dre"  width="346" height="260" style="width: 230px;"></canvas></td>
          </tr>
          
    </table>
    
    <script>
        
        // 获取所有画布元素
        const canvasesdre = document.querySelectorAll('.dre');
        // 定义要加载的图片路径数组
        const dreimagePaths = [[
          './images/dre/4/event_5.png',
          './images/dre/4/rs_.png',
          './images/dre/4/cvr_.png',
          './images/dre/4/evunroll_.png',
          './images/dre/4/res_.png',
        ],[
          './images/dre/5/event_6.png',
          './images/dre/5/rs_.png',
          './images/dre/5/cvr_.png',
          './images/dre/5/evunroll_.png',
          './images/dre/5/res_.png',
        ],[
          './images/dre/1/event.png',
          './images/dre/1/rs.png',
          './images/dre/1/cvr.png',
          './images/dre/1/evunroll.png',
          './images/dre/1/our.png',
        ],
        [
          './images/dre/2/rs-2023_03_10_15_57_19_000068-event_00.png',
          './images/dre/2/rs_.png',
          './images/dre/2/cvr_.png',
          './images/dre/2/evunroll_.png',
          './images/dre/2/res_.png',
        ],[
          './images/dre/3/event_4.png',
          './images/dre/3/rs.png',
          './images/dre/3/cvr.png',
          './images/dre/3/evunroll.png',
          './images/dre/3/res.png',
        ]];
        // 遍历每个画布元素
        canvasesdre.forEach((canvas, index) => {
          // 获取画布和绘图上下文
		// var canvas = document.getElementById("canvas");
		// 设置竖向分割线的样式
        var ctx = canvas.getContext("2d");
        // ctx.setLineDash([5, 3]);
		ctx.strokeStyle = 'green';  // 设置线条颜色为红色
		ctx.lineWidth = canvas.width/100;        // 设置线条粗细为 2 像素
		// ctx.globalAlpha = 1.0;    // 设置透明度为 50%
		// 创建Image对象并加载图片
		var image1 = new Image();
		var image2 = new Image();
		image1.src = dreimagePaths[Math.floor(index/5)][0];
		image2.src = dreimagePaths[Math.floor(index/5)][index%5];
        // 在Canvas上绘制初始的图像
        image2.onload = function() {
            ctx.drawImage(image2, 0, 0, canvas.width, canvas.height);
        };
		// 监听鼠标在画布上的移动事件
		canvas.addEventListener("mousemove",  e => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
			
			// 获取鼠标在画布上的位置
			var rect = canvas.getBoundingClientRect();
            var x = event.clientX - rect.left;
            var y = event.clientY - rect.top;
            x = x * canvas.width / rect.width;
            y = y * canvas.height / rect.height;
            // var rect = canvas.getBoundingClientRect();
            // x -= rect.left;
            // y -= rect.top;
			// // 判断当前鼠标位置应该显示哪张图片的哪一部分
			ctx.drawImage(image1, 0, 0, canvas.width, y, 0, 0, canvas.width, y);
			ctx.drawImage(image2, 0, y, canvas.width, canvas.height, 0, y, canvas.width, canvas.height);
            // 画竖向分割线
            ctx.beginPath();
			ctx.moveTo(0, y);
			ctx.lineTo(canvas.width, y);
			ctx.stroke();
		});
        canvas.addEventListener('mouseout', e => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(image2, 0, 0, canvas.width, canvas.height);
        });
        
        });
      </script>

   


    <hr>
    </div><br> -->
    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
</body>
</html>

